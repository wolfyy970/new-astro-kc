<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>KC Wolff-Ingham</title><meta name="description" content="Design leadership portfolio — KC Wolff-Ingham. Senior product design leader with 30 years spanning banking, health tech, and media."><!-- Open Graph --><meta property="og:title" content="KC Wolff-Ingham"><meta property="og:description" content="Design leadership portfolio — KC Wolff-Ingham. Senior product design leader with 30 years spanning banking, health tech, and media."><meta property="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><!-- Favicon --><link rel="icon" href="/favicon.png"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Source+Sans+3:wght@300;400;500;600;700&family=Source+Serif+4:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/index.DC2L8o-L.css"></head> <body>   <header class="hero"> <h1 class="hero-name">KC Wolff-Ingham</h1> <div class="hero-rule"></div> <p class="hero-sub">Design leadership, technical depth, and thirty years of seeing what&#39;s next</p> <div class="hero-credentials"> M.Sc. HCI<span>·</span>B.Sc. Computer Science<span>·</span>Executive MBA<span>·</span>2 Patents </div> </header>  <div class="doc-wrapper"> <div class="doc-page reveal"> <div class="doc-hint"><span class="doc-hint-dot"></span> Highlighted items are interactive</div> <!-- Header --> <div class="doc-name">Karl-Christian Wolff-Ingham</div> <div class="doc-title-line">Senior Product Design Leader (MS.BS.MBA)</div> <div class="doc-contact"> <a href="mailto:kcswolff@gmail.com">kcswolff@gmail.com</a> &nbsp;·&nbsp;
404.725.0417 &nbsp;·&nbsp;
<a href="https://linkedin.com/in/kcwolff" target="_blank">linkedin.com/in/kcwolff</a> &nbsp;·&nbsp;
Atlanta, Georgia </div> <hr class="doc-hr"> <!-- Executive Summary --> <div class="doc-summary">Senior leader bridging design, product, and technology to drive enterprise-scale digital transformation and measurable business growth. Proven track record building and maturing UX organizations, establishing design as strategic capability, innovating with emerging technologies and delivering customer-centric solutions that generate significant ROI across Fortune companies.</div><div class="doc-summary">Unique combination of technical fluency (<span class="hotspot" data-popover="patents" tabindex="0" role="button" aria-expanded="false">patents</span>, BS Computer Science), human-centered design expertise (MS HCI), and business acumen (MBA Brown/IE) enables strategic vision with hands-on execution. Experience spans media, finance, e-commerce, and consulting sectors, consistently translating complex customer needs into innovative products that drive competitive advantage.</div> <!-- Key Achievements --> <div class="doc-section-heading">Key Achievements</div> <div class="doc-achievement-cluster"> <h4>Driving Business Growth Through Design Leadership</h4> <ul> <li>Leading design for digital transformation of <span class="hotspot" data-popover="gpc-revenue" tabindex="0" role="button" aria-expanded="false">$10B ecommerce platform at Global Fortune automotive parts distribution leader</span>, delivering 7% add-to-cart improvement representing $32.8M lift in revenue (2025).</li><li>Led product and design for innovative quantified self, <span class="hotspot" data-popover="upwave" tabindex="0" role="button" aria-expanded="false">health and wellness product — upwave</span>, growing it from zero to 1M monthly unique users, 27K registered users, and 9.5M visits in 8 months, earning Webby nomination.</li> </ul> </div><div class="doc-achievement-cluster"> <h4>Building &amp; Scaling Design Organizations</h4> <ul> <li>Established design and research as strategic function at GPC, reporting to CIO and transforming multi-billion-dollar ecommerce platform.</li><li>Scaled SunTrust and then Truist bank design team during <span class="hotspot" data-popover="merger" tabindex="0" role="button" aria-expanded="false">largest banking merger since 2008 ($66B)</span>, improving customer satisfaction by 3.8% (CSAT) and positioning design as strategic differentiator.</li><li>Led and transformed UX practice for North Highland, serving <span class="hotspot" data-popover="clients" tabindex="0" role="button" aria-expanded="false">Delta, Coca-Cola, T-Mobile, Disney, Universal Studios, Home Depot</span> and other Fortune companies. Won $4.7M+ in new business.</li><li>Built <span class="hotspot" data-popover="bolt" tabindex="0" role="button" aria-expanded="false">"Bolt" global design system</span> adopted across North America, Europe, and APAC.</li> </ul> </div><div class="doc-achievement-cluster"> <h4>Innovation Leadership &amp; Strategic Foresight</h4> <ul> <li>Rebooted and led <span class="hotspot" data-popover="accelerator" tabindex="0" role="button" aria-expanded="false">Innovation Studio at SunTrust</span> and partnered with Corporate Strategy to explore future of banking through strategic foresight, delivering CEO and C-suite presentation that shaped organizational vision and subsequent merger.</li><li>Led R&D function at Turner Broadcasting exploring emerging platforms and technologies, resulting in <span class="hotspot" data-popover="emmy" tabindex="0" role="button" aria-expanded="false">Emmy Award-winning products</span> and two granted patents in automatic content recognition.</li><li>Pioneered interactive broadcast technologies including <span class="hotspot" data-popover="magicwall" tabindex="0" role="button" aria-expanded="false">CNN "Magic Wall"</span> and sync-to-TV platforms that redefined industry standards for data storytelling and audience engagement.</li> </ul> </div> <hr class="doc-hr-thin"> <!-- Experience --> <div class="doc-section-heading">Experience</div> <div class="doc-exp"> <div class="doc-exp-header"> <span class="doc-exp-company">Genuine Parts Company</span> <span class="doc-exp-dates">January 2023 – Present</span> </div> <div class="doc-exp-title">Senior Director &amp; Head of UX Design and Research · Atlanta, GA</div> <div class="doc-exp-desc">Executive design leader reporting to CIO, leading UX design and research for Fortune Global 500 automotive/industrial parts distribution leader.</div> <ul> <li>Leading research-driven redesign of <span class="hotspot" data-popover="gpc-research" tabindex="0" role="button" aria-expanded="false">$8B unified commerce platform</span> and <span class="hotspot" data-popover="agentic" tabindex="0" role="button" aria-expanded="false">AI-driven (agentic) internal venture</span>, informed by prior consulting engagement.</li><li>Developed <span class="hotspot" data-popover="bolt" tabindex="0" role="button" aria-expanded="false">"Bolt" global design system</span> adopted across North America, Europe, and APAC.</li><li>Introduced balanced team model embedding dedicated design and research roles in agile pods, supported by a scalable design process integrating stakeholder engagement and user research.</li><li>Pioneered early 2025 assessment of and subsequent introduction of AI design and prototyping tool (v0) to optimize for exploration breadth and execution speed.</li> </ul> </div><div class="doc-exp"> <div class="doc-exp-header"> <span class="doc-exp-company">Wolff Consulting, LLC</span> <span class="doc-exp-dates">June 2021 – January 2023</span> </div> <div class="doc-exp-title">Founder &amp; Principal Consultant · Atlanta, GA</div> <div class="doc-exp-desc">Boutique product and design consultancy bridging strategy and execution for clients across fitness, media analytics, and automotive sectors.</div> <ul> <li>Conducted yearlong strategic foresight engagement for GPC CIO on the future of automotive retail and repair — including primary research and journey mapping across drivers, repair shops, parts stores, and supply chain. Work directly informed the company's digital transformation roadmap and led to recruitment as Head of UX Design and Research.</li><li>Redesigned FitRadio's workout music streaming app. Product methodology coaching for Comscore. Mobile app redesign for Gold's Gym.</li> </ul> </div><div class="doc-exp"> <div class="doc-exp-header"> <span class="doc-exp-company">Truist (SunTrust prior to SunTrust BB&amp;T Merger)</span> <span class="doc-exp-dates">July 2017 – June 2021</span> </div> <div class="doc-exp-title">Head of UX Design &amp; Research · Atlanta, GA</div> <div class="doc-exp-desc">Inherited small nascent UX design team (SunTrust) with no research or UI and no independent design voice. Scaled to 30-person multidisciplinary team and established evidence-based design methodology through the SunTrust-BB&T merger.</div> <ul> <li>Rebooted and repositioned the <span class="hotspot" data-popover="accelerator" tabindex="0" role="button" aria-expanded="false">SunTrust Innovation Accelerator Studio</span>, introducing service design, customer journey mapping and strategic foresight as core capabilities. Partnered with Corporate Strategy on a <span class="hotspot" data-popover="foresight" tabindex="0" role="button" aria-expanded="false">foresight exercise</span> — presenting three future-of-banking scenarios to CEO and C-Suite; CEO called the work "instrumental" in shaping merger strategy.</li><li>Led UX design and research across Consumer Banking, Small Business, Wealth Management, Small Business and Commercial Banking for SunTrust and Small Business and Commercial Banking for Truist.</li><li>Rebuilt all <span class="hotspot" data-popover="truist-products" tabindex="0" role="button" aria-expanded="false">product experiences</span> for the merged entity. Integrating design and voice of the customer into Scaled Agile Framework (SAFe).</li><li>Translated the new Truist brand into visual design and UI standards, defining the Truist design system deployed across all digital products.</li> </ul> </div><div class="doc-exp"> <div class="doc-exp-header"> <span class="doc-exp-company">North Highland</span> <span class="doc-exp-dates">September 2014 – March 2017</span> </div> <div class="doc-exp-title">UX Design Practice Leader, Experience Design · Atlanta, GA</div> <div class="doc-exp-desc">Led UX and emerging interactions practice for Sparks Grove, North Highland's innovation agency. Served Fortune 500 clients including Delta Air Lines, The Coca-Cola Company, Disney, Universal Studios, T-Mobile, and The Home Depot.</div> <ul> <li>Led transformation of agency from traditional waterfall delivery to agile software development and lean product management — repositioning the practice around "Human Experience Design" (HxD). Earned National Impact Award (2016) for the transformation.</li><li>Pitched and won $4.7M+ in new business over 2.5 years, including $3M in client projects during first year. Key engagements included building <span class="hotspot" data-popover="delta" tabindex="0" role="button" aria-expanded="false">news.delta.com</span> for Delta Air Lines and consulting with The Home Depot for lean product development and design in their product organization.</li> </ul> </div><div class="doc-exp"> <div class="doc-exp-header"> <span class="doc-exp-company">Turner (Time Warner)</span> <span class="doc-exp-dates">October 2012 – March 2014</span> </div> <div class="doc-exp-title">Vice President, Product &amp; UX · Atlanta, GA</div> <div class="doc-exp-desc">Led product management and product design for upwave, Turner's IoT-driven digital health venture at the intersection of quantified-self technologies (wearables, health trackers) and personalized content delivery. Partnered with <span class="hotspot" data-popover="ideo" tabindex="0" role="button" aria-expanded="false">IDEO</span> on initial market validation and product-market fit.</div> <ul> <li>Took <span class="hotspot" data-popover="upwave" tabindex="0" role="button" aria-expanded="false">venture from concept to 1M monthly unique users</span>, 27K registered users, and 9.5M visits in 8 months. Introduced lean product methodology enabling daily release cycles, and increased site recirculation from 5% to 24%.</li><li>Product nominated for Webby Award (Health & Fitness). Venture was ahead of mainstream wearables adoption (pre-Apple Watch) and sunset when Turner exited the health vertical.</li> </ul> </div><div class="doc-exp"> <div class="doc-exp-header"> <span class="doc-exp-company">Turner (Time Warner)</span> <span class="doc-exp-dates">December 2008 – October 2012</span> </div> <div class="doc-exp-title">Senior Director, Innovation &amp; Emerging Technology · Atlanta, GA</div> <div class="doc-exp-desc">Led multi-disciplinary (Product, UX & Engineering) R&D and innovation team focused on innovation across emerging platforms for Turner properties — CNN, Cartoon Network, TBS & TNT networks.</div> <ul> <li>Pioneered <span class="hotspot" data-popover="ar" tabindex="0" role="button" aria-expanded="false">mobile augmented reality applications</span> for NBA and Cartoon Network in partnership with Georgia Tech. Led development of on-air augmented reality application for CNN elections coverage and large format multitouch weather reporting application.</li><li>Designed and led development for CNN World Cup Twitter Buzz — realtime Twitter data visualization — Royal Television Society Award and Fast Company's "Infographic of the Day".</li><li>Collaborated on <span class="hotspot" data-popover="patents" tabindex="0" role="button" aria-expanded="false">two patents</span> for interactive content to broadcast TV sync technology (embedded into SmartTVs) and managed the development of the software. <span class="hotspot" data-popover="emmy" tabindex="0" role="button" aria-expanded="false">Emmy Award</span> for Conan Team CoCo app (iPad) that utilized it.</li> </ul> </div> <hr class="doc-hr-thin"> <!-- Education --> <div class="doc-section-heading">Education</div> <div class="doc-edu-item"> <div class="degree">Executive MBA</div> <div class="school">Brown University &amp; IE Business School, US &amp; Spain</div>  </div><div class="doc-edu-item"> <div class="degree">M.S. Human-Centered Design</div> <div class="school">University of Sussex, UK</div>  </div><div class="doc-edu-item"> <div class="degree">B.S. Computer Science (2:1 Honors)</div> <div class="school">University of Brighton, UK</div>  </div> <hr class="doc-hr-thin"> <!-- Patents & Recognition --> <div class="doc-section-heading">Patents &amp; Recognition</div> <div class="doc-awards-line"><strong>Patents:</strong> Automatic content recognition systems, audience engagement technologies</div> <div class="doc-awards-line"><strong>Awards:</strong> Emmy Award, Royal Television Society Award, BAFTA Nomination (UK), Webby Nomination, Apple Design Project Award</div> <div class="doc-awards-line"><strong>Certifications:</strong> Creative Leadership, Strategic Foresight, Product Management</div> <!-- Page footer --> <div class="doc-footer">KC Wolff-Ingham &nbsp;·&nbsp; kcswolff@gmail.com &nbsp;·&nbsp; 404.725.0417 &nbsp;·&nbsp; Atlanta, Georgia</div> </div> </div>  <div class="popover-overlay" id="popover-overlay" role="presentation"></div> <div class="popover" id="popover" role="dialog" aria-modal="false" aria-label="Details"></div> <div class="site-footer"> <p>&copy; 2026 KC Wolff-Ingham</p> </div>  <script>(function(){const popovers = {"gpc-revenue":{"label":"Business Impact","text":"Leading design for the digital transformation of a $10B ecommerce platform. Two years of customer research uncovered a key insight: B2B parts lookup is fundamentally different from traditional ecommerce. Service advisors often have the part in hand — they need to identify it, not shop for it. The \"ways of finding\" strategy delivered a 7% add-to-cart improvement representing a $32.8M lift in revenue (2025).","stat":"$32.8M"},"gpc-research":{"label":"Research Strategy","text":"The \"ways of finding\" concept introduced multiple paths to the same part: category search, part number lookup, job type, legacy PDF catalogs, and future visual/diagram lookup. This research-driven strategy was the foundation of the $32.8M impact — designed from evidence, not assumption."},"bolt":{"label":"Design System","text":"Built from scratch — no inherited design system existed. The design engineering team (front-end engineers reporting into design) owns the technical implementation. Adopted across North America, Europe, and Asia Pacific. Reduced front-end development time by approximately 25%."},"agentic":{"label":"The 30-Year Through-Line","text":"Currently leading design for an internal AI/ML startup within GPC — designing user interfaces for agentic AI systems. This connects directly back to the back-propagation work from 1993. The through-line from undergraduate neural network tools to agentic UI design spans three decades — and it's not a pivot, it's a continuation."},"merger":{"label":"Truist · $66B Merger","text":"The SunTrust–BB&T merger created Truist — the largest banking merger since 2008. Scaled the design team and improved customer satisfaction by 3.8% (CSAT). My strategic foresight work used Jobs to Be Done framework applied to business units (not products), isolating what each unit actually solves for customers, then running foresight on how those problems would be solved in the future.","img":"/images/truist/1771246115132-cd678175.png","link":"/truist","linkText":"View Truist project →"},"accelerator":{"label":"Accelerator Studio","text":"Inherited an existing studio with an uncertain future. Interviewed every executive stakeholder on what they wanted it to be, then rebooted it with two major additions: customer journey mapping and strategic foresight. This repositioning earned a partnership with Corporate Strategy and led directly to the C-suite foresight presentations."},"foresight":{"label":"Strategic Foresight","text":"Designed and ran a foresight exercise pulling the brightest people from all business units. Used Jobs to Be Done applied to the business units themselves — isolating identity from what they actually solve for customers. Output: three scenarios for the future of banking, presented to the CEO and C-suite.","quote":"The CEO called the work \"instrumental\" in how he thought about the merger."},"truist-products":{"label":"Product Rebuilds","text":"Rebuilt Commercial Banking, Small Business, Retail, and Investment Banking products for the merged Truist entity. Each product line required unifying two distinct legacy systems under one coherent design language while maintaining continuity for millions of existing customers.","img":"/images/truist/1771281469482-048153c4.png","link":"/truist","linkText":"View Truist project →"},"delta":{"label":"Delta Air Lines","text":"Created news.delta.com — the corporate communications platform that serves Delta's media relations, employee engagement, and storytelling. A unified editorial system for a global airline with 90,000 employees. The site is still live today.","img":"/images/sparks-grove/news-hub.jpg","link":"/sparks-grove","linkText":"View Delta project →"},"clients":{"label":"Client Portfolio","text":"As Practice Lead at Sparks Grove (North Highland's innovation agency), won $4.7M+ in new business over 2.5 years including $3M in the first year alone. Led the shift from traditional agency model to agile software development and lean product management. Earned National Impact Award (2016) for transforming agency positioning to Human Experience Design."},"upwave":{"label":"Upwave · Turner Broadcasting","text":"An IoT-driven digital health venture at the intersection of wearables and personalized content delivery. Partnered with IDEO on market validation. Introduced lean product methodology enabling daily release cycles. The product was ahead of mainstream wearable adoption — pre-Apple Watch.","img":"/images/upwave/upwave_homepage_screens.webp","link":"/upwave","linkText":"View Upwave project →","stat":"0 → 1M users in 8 months"},"ideo":{"label":"IDEO Partnership","text":"Partnered with IDEO for market validation and product-market fit on the Upwave health platform. The engagement helped shape the intersection of quantified-self data (wearables, health trackers) with personalized content delivery for behavior change."},"emmy":{"label":"Emmy Award · 2011","text":"Primetime Creative Arts Emmy — Outstanding Creative Achievement in Interactive Media for the \"Conan O'Brien Presents: Team Coco\" app. I contributed the automatic content recognition (ACR) technology that powered the sync-to-TV interactive experience. This was a team award; my contribution was the underlying ACR platform."},"patents":{"label":"Granted Patents","text":"Two U.S. patents granted in 2015 for technology filed in 2011 at Turner Broadcasting. US9043821B2 covers automatic content recognition systems — the ability for a device to identify what's playing on a TV screen. US9167276B2 covers audience engagement technologies — systems for interactive second-screen experiences synchronized to live broadcast."},"magicwall":{"label":"CNN Magic Wall","text":"Co-designed large-format multi-touch interface that pioneered data-driven storytelling for election coverage at CNN. Introduced the massive multi-touch screen paradigm for broadcast news visualization that became an industry standard."},"ar":{"label":"Mobile AR · 2005–2008","text":"Pioneered the first mobile augmented reality applications in the United States — for NBA (billboard advertising interactions) and Cartoon Network (gaming) — in partnership with Georgia Tech. On Nokia N90 devices, before the iPhone existed. I predicted that mobile processing power and GPU trajectories would ensure AR happened on phones first. That prediction proved correct."},"dissertation":{"label":"March 1993","text":"Undergraduate dissertation \"Colonizing Cyberspace\" predicted the transformative potential of global networked information spaces — 3D visualization of internet communities, virtual worlds for business and leisure. Described concepts now called \"spatial computing\" (Apple Vision Pro, Meta Quest). Predicted virtual communities and their cultural impact.","quote":"Submitted March 1993. The Mosaic browser was publicly announced April 21, 1993 — one month later."},"backprop":{"label":"Neural Networks · 1993","text":"Added external commands (XCMDs) to HyperCard's HyperScript language enabling back-propagation learning capabilities. Back-propagation is the foundational algorithm behind modern artificial neural networks and today's LLMs. This work predates the current AI wave by three decades — documented, timestamped technical AI roots."}};
const scrollAnnotations = [{"key":"gpc-revenue","side":"right"},{"key":"agentic","side":"left"},{"key":"merger","side":"right"},{"key":"foresight","side":"left"},{"key":"delta","side":"left"},{"key":"upwave","side":"right"},{"key":"emmy","side":"left"},{"key":"ar","side":"right"},{"key":"bolt","side":"left"},{"key":"patents","side":"right"}];

    // ── Popover Engine ──
    const overlay = document.getElementById('popover-overlay');
    const popoverEl = document.getElementById('popover');
    let activeHotspot = null;

    function openPopover(hotspot) {
      const key = hotspot.dataset.popover;
      const data = popovers[key];
      if (!data) return;

      closePopover();

      activeHotspot = hotspot;
      hotspot.classList.add('active');
      hotspot.setAttribute('aria-expanded', 'true');

      let html = '';
      if (data.img) {
        html += `<img class="popover-img" src="${data.img}" alt="${data.label}">`;
      }
      html += '<div class="popover-body">';
      html += `<div class="popover-label">${data.label}</div>`;
      if (data.stat) {
        html += `<div class="popover-stat">${data.stat}</div>`;
      }
      html += `<div class="popover-text">${data.text}</div>`;
      if (data.quote) {
        html += `<div class="popover-quote">${data.quote}</div>`;
      }
      if (data.link) {
        html += `<a class="popover-link" href="${data.link}">${data.linkText}</a>`;
      }
      html += '</div>';

      popoverEl.innerHTML = html;

      const isMobile = window.innerWidth <= 600;
      if (!isMobile) {
        const rect = hotspot.getBoundingClientRect();
        const scrollY = window.scrollY;
        const scrollX = window.scrollX;

        let top = rect.bottom + scrollY + 10;
        let left = rect.left + scrollX + (rect.width / 2) - 190;

        if (left < 16) left = 16;
        if (left + 380 > window.innerWidth) left = window.innerWidth - 396;

        const estimatedHeight = data.img ? 360 : 220;
        if (rect.bottom + estimatedHeight > window.innerHeight) {
          top = rect.top + scrollY - estimatedHeight - 10;
          if (top < scrollY + 16) top = rect.bottom + scrollY + 10;
        }

        popoverEl.style.top = top + 'px';
        popoverEl.style.left = left + 'px';
      } else {
        popoverEl.style.top = '';
        popoverEl.style.left = '';
      }

      overlay.classList.add('open');
      if (isMobile) document.body.classList.add('popover-open');
      requestAnimationFrame(() => {
        popoverEl.classList.add('visible');
      });
    }

    function closePopover() {
      popoverEl.classList.remove('visible');
      overlay.classList.remove('open');
      document.body.classList.remove('popover-open');
      if (activeHotspot) {
        activeHotspot.classList.remove('active');
        activeHotspot.setAttribute('aria-expanded', 'false');
        const returnFocus = activeHotspot;
        activeHotspot = null;
        requestAnimationFrame(() => returnFocus.focus());
      }
    }

    // Init hotspot listeners
    document.querySelectorAll('.hotspot').forEach(el => {
      el.addEventListener('click', (e) => {
        e.stopPropagation();
        if (activeHotspot === el) {
          closePopover();
        } else {
          openPopover(el);
        }
      });

      el.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          e.stopPropagation();
          if (activeHotspot === el) {
            closePopover();
          } else {
            openPopover(el);
          }
        }
      });
    });

    overlay.addEventListener('click', closePopover);
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closePopover();
    });

    // ── Scroll reveal ──
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, { threshold: 0.05 });
    document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

    // ── Scroll-triggered margin annotations (≥1400px) ──
    const autoRevealList = scrollAnnotations;
    const autoRevealKeys = new Set(autoRevealList.map(a => a.key));
    const docPage = document.querySelector('.doc-page');
    let annotationEls = {};
    let annotationsBuilt = false;

    function isWideScreen() {
      return window.innerWidth >= 1400;
    }

    function buildAnnotationHTML(data, side) {
      let html = `<div class="sa-rule"></div>`;
      html += `<div class="sa-label">${data.label}</div>`;
      if (data.img) {
        html += `<img class="sa-img" src="${data.img}" alt="${data.label}">`;
      }
      if (data.stat) {
        html += `<div class="sa-stat">${data.stat}</div>`;
      }
      const shortText = data.text.split('. ').slice(0, 2).join('. ') + '.';
      html += `<div class="sa-text">${shortText}</div>`;
      if (data.quote) {
        html += `<div class="sa-quote">${data.quote}</div>`;
      }
      if (data.link) {
        html += `<a class="sa-link" href="${data.link}">${data.linkText}</a>`;
      }
      return html;
    }

    function buildAllAnnotations() {
      if (annotationsBuilt) return;

      const docPageRect = docPage.getBoundingClientRect();

      // Pass 1: Create all annotations at hotspot positions
      autoRevealList.forEach(({ key, side }) => {
        const hotspot = document.querySelector(`.hotspot[data-popover="${key}"]`);
        if (!hotspot) return;
        const data = popovers[key];
        if (!data) return;

        const el = document.createElement('div');
        el.className = `scroll-annotation side-${side}`;
        el.innerHTML = buildAnnotationHTML(data, side);

        const hotspotRect = hotspot.getBoundingClientRect();
        const naturalTop = hotspotRect.top - docPageRect.top;

        el.style.top = naturalTop + 'px';
        docPage.appendChild(el);

        annotationEls[key] = { el, hotspot, side, naturalTop };
      });

      // Pass 2: Resolve overlaps per side
      resolveOverlaps('left');
      resolveOverlaps('right');

      annotationsBuilt = true;
    }

    function resolveOverlaps(side) {
      const MIN_GAP = 48;

      const items = autoRevealList
        .filter(a => a.side === side && annotationEls[a.key])
        .map(a => annotationEls[a.key]);

      items.sort((a, b) => a.naturalTop - b.naturalTop);

      let prevBottom = -Infinity;
      for (const item of items) {
        let top = item.naturalTop;
        if (top < prevBottom + MIN_GAP) {
          top = prevBottom + MIN_GAP;
        }
        item.el.style.top = top + 'px';
        prevBottom = top + item.el.offsetHeight;
      }
    }

    function revealAnnotation(key) {
      const entry = annotationEls[key];
      if (!entry || entry.el.classList.contains('revealed')) return;
      entry.el.classList.add('revealed');
      entry.hotspot.classList.add('scroll-revealed');
    }

    const marginObserver = new IntersectionObserver((entries) => {
      if (!isWideScreen()) return;
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const key = entry.target.dataset.popover;
          if (autoRevealKeys.has(key)) {
            revealAnnotation(key);
          }
        }
      });
    }, {
      rootMargin: '-15% 0px -40% 0px',
      threshold: 0
    });

    function initScrollAnnotations() {
      if (!isWideScreen()) return;
      buildAllAnnotations();

      document.querySelectorAll('.hotspot').forEach(el => {
        const key = el.dataset.popover;
        if (autoRevealKeys.has(key)) {
          marginObserver.observe(el);
        }
      });
    }

    function cleanupAnnotations() {
      Object.values(annotationEls).forEach(({ el, hotspot }) => {
        el.remove();
        hotspot.classList.remove('scroll-revealed');
      });
      annotationEls = {};
      annotationsBuilt = false;
      marginObserver.disconnect();
    }

    // Init
    if (isWideScreen()) {
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          initScrollAnnotations();
        });
      });
    }

    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(() => {
        if (isWideScreen() && !annotationsBuilt) {
          initScrollAnnotations();
        } else if (!isWideScreen() && annotationsBuilt) {
          cleanupAnnotations();
        }
      }, 250);
    });
  })();</script>  </body></html>
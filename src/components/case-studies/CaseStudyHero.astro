---
import { Image } from "astro:assets";

interface Props {
    title: string;
    subtitle: string;
    label: string;
    image?: string;
    imageAlt?: string;
    background?: string;
}

const { title, subtitle, label, image, imageAlt, background } = Astro.props;
---

<div class={`hero ${background ? "has-bg" : ""}`}>
    {
        background && (
            <div class="hero-bg">
                <Image
                    src={background}
                    alt=""
                    width={1920}
                    height={1080}
                    format="webp"
                    quality="mid"
                    loading="eager"
                />
            </div>
        )
    }
    <div class="hero-content">
        <div class="hero-label">{label}</div>
        <h1 class="hero-title">{title}</h1>
        <p class="hero-subtitle">{subtitle}</p>
    </div>
    {
        image && (
            <div class="hero-right">
                <Image
                    src={image}
                    alt={imageAlt || ""}
                    width={800}
                    height={1200}
                    format="webp"
                    quality="high"
                    loading="eager"
                />
            </div>
        )
    }
</div>

<style>
    .hero {
        position: relative;
        min-height: 90vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        background: linear-gradient(
            135deg,
            #1d0b2e 0%,
            var(--hero-bg-color, #3b1a5a) 50%,
            #512678 100%
        );
        overflow: hidden;
        padding: 160px 80px;
    }

    .hero.has-bg {
        background: none;
    }

    .hero-bg {
        position: absolute;
        inset: 0;
        z-index: 0;
    }

    .hero-bg img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }

    .hero-bg::after {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(11, 27, 43, 0.6);
        z-index: 1;
    }

    .hero-content {
        position: relative;
        z-index: 2;
        max-width: 840px;
    }

    /* When there's a standalone image (like Truist/Upwave) */
    .hero:not(.has-bg) .hero-content {
        margin-bottom: 80px;
    }

    .hero-right {
        z-index: 2;
        width: 100%;
        display: flex;
        justify-content: center;
    }

    .hero-right img {
        max-height: 520px;
        width: auto;
        border-radius: 32px;
        box-shadow: 0 64px 128px rgba(0, 0, 0, 0.5);
        background: #000;
    }

    .hero-label {
        font-size: 11px;
        font-weight: 600;
        letter-spacing: 4px;
        text-transform: uppercase;
        color: var(--hero-accent-color, #00b4a0);
        margin-bottom: 32px;
    }

    .hero-title {
        font-family: "Playfair Display", serif;
        font-size: clamp(48px, 6vw, 80px);
        font-weight: 400;
        color: #fff;
        line-height: 1.05;
        margin-bottom: 40px;
    }

    .hero-subtitle {
        font-size: 20px;
        font-weight: 300;
        color: rgba(255, 255, 255, 0.85);
        line-height: 1.75;
        max-width: 640px;
        margin: 0 auto;
    }

    @media (max-width: 1024px) {
        .hero {
            padding: 120px 32px;
        }
        .hero-content {
            margin-bottom: 48px !important;
        }
        .hero-right img {
            max-height: 480px;
        }
    }
</style>
